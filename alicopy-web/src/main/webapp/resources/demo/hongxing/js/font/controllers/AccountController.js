(function(){var n,e;n=[],e=function(){var n;return n=function($scope,$rootScope,$http,$timeout,$location,validate,tele,SERVER,storage,LOGIN_EVENT_NAME,ERROR_LOGIN_UNKNOWN,ERROR_LOGIN_TIME){return $scope.focuses={name:!0},$scope.disableInputs=!1,$scope.validateNameFormat=function(n){return validate.phone(n)||validate.email(n)},$scope.checkNameExistence=function(){var n,e;return n=$scope.account.name,n.$stateVisible=!0,$scope.account.$valid?(e=$rootScope.name,$scope.disableInputs=!0,$http.get("https://"+SERVER+"/user/name",{params:{name:e}}).success(function(n){return n.exists?($location.path("/login"),$rootScope.isVirgin?tele.run("track.event",LOGIN_EVENT_NAME,"login-start"):void 0):$location.path("/register")}).error(function(){return alert($scope.betweenCertInterval()?ERROR_LOGIN_UNKNOWN:ERROR_LOGIN_TIME)})["finally"](function(){return $scope.disableInputs=!1})):void 0}}},define(n,e)}).call(this);